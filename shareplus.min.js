/*
* Share+
* Copyright 2013 Daniel Paul
* www.danielpaul.me
* http://danielpaul.me/projects/share+/
*
* Share+ : http://codecanyon.net/user/DanielPaul?ref=DanielPaul
*
* Version 4.7   -   Last Updated: Nov 10, 2013
*
* Licence: http://codecanyon.net/wiki/support/legal-terms/licensing-terms/
*
*/
(function(e){var t="shareplus";var n=function(t,r){this.$T=e(t);var i=e.extend(true,{height:"130px",speedIn:400,speedOut:600,displayTitle:true,title:"Share & Bookmark",sharetitle:"",shareurl:"",icons:"facebook,twitter,google,digg,delicious,stumble,tumblr,linkedin,live,myspace,bebo,email",targetBlank:true,fbLikebox:true,fbAction:"like",fbcolorscheme:"light",tweets:true,tweetText:"Check out this URL",tweetVia:"",twitterRelated:"danielpaul94",tweetButton:"Tweet",pin:true,pinMedia:"",gplus:true,ga:false,open:function(){},opened:function(){},exit:function(){},exited:function(){},sticker:true,stickerAlign:"left"},r);e(this).data(i);this._create(t,i);e(t).click(function(){n.prototype.open(i)});e("#shareplus_close, #shareplus_overlay").click(function(){n.prototype.close(i)});return this};n.prototype._create=function(t,n){var r={email:"mailto:?subject={TITLE}&body={DESCRIPTION}%20{URL}",digg:"http://digg.com/submit?phase=2&url={URL}&title={TITLE}",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TITLE}&summary={DESCRIPTION}&source=",technorati:"http://www.technorati.com/faves?add={URL}",delicious:"http://del.icio.us/post?url={URL}&title={TITLE}",yahoo:"http://myweb2.search.yahoo.com/myresults/bookmarklet?u={URL}&t={TITLE}",google:"http://www.google.com/bookmarks/mark?op=edit&bkmk={URL}&title={TITLE}",newsvine:"http://www.newsvine.com/_wine/save?u={URL}&h={TITLE}",reddit:"http://reddit.com/submit?url={URL}&title={TITLE}",live:"https://favorites.live.com/quickadd.aspx?marklet=1&mkt=en-us&url={URL}&title={TITLE}&top=1",facebook:"http://www.facebook.com/share.php?u={URL}",twitter:"http://twitter.com/?status={TITLE}%20-%20{URL}",stumble:"http://www.stumbleupon.com/submit?url={URL}&title={TITLE}",orkut:"http://promote.orkut.com/preview?nt=orkut.com&tt={TITLE}&du={URL}&cn={DESCRIPTION}",bebo:"http://www.bebo.com/c/share?Url={URL}&title={TITLE}",evernote:"http://s.evernote.com/grclip?url={URL}&title={TITLE}",mixx:"http://www.mixx.com/submit?page_url={URL}&title={TITLE}",myspace:"http://www.myspace.com/Modules/PostTo/Pages/?u={URL}&title={TITLE}",netvibes:"http://www.netvibes.com/share?title={TITLE}&url={URL}",tumblr:"http://www.tumblr.com/share?v=3&u={URL}&t={TITLE}&s=",friendfeed:"http://friendfeed.com/share/bookmarklet/frame#title={TITLE}&url={URL}",design_moo:"http://www.designmoo.com/node/add/drigg/?url={URL}&title={TITLE}",designfloat:"http://www.designfloat.com/submit.php?url={URL}&title={TITLE}",design_bump:"http://www.designbump.com/node/add/drigg/?url={URL}&title={TITLE}",squidoo:"http://www.squidoo.com/lensmaster/bookmark?{URL}",yahoo_buzz:"http://buzz.yahoo.com/buzz?targetUrl={URL}&headline={TITLE}&summary={DESCRIPTION}",pinterest:"http://pinterest.com/pin/create/button/?url={URL}&description={DESCRIPTION}",print:'javascript:void(0);" onClick="window.print();" target="_self',favorites:'javascript:void(0);" onClick="alert(\'Press ctrl + D to bookmark\');" target="_self'};var i=n.sharetitle?n.sharetitle:document.title;var s=n.shareurl?n.shareurl:document.location.href;var o=e("meta[name=description]").attr("content");var u=e('<div id="shareplus"></div>');if(n.displayTitle){var a=e('<div id="shareplus_title"><span>'+n.title+'</span><span id="shareplus_close"><a href="javascript:void(0);" class="shareplus_close">x</a></span></div>')}var f=e('<div id="shareplus_icons" style="height:'+n.height+';"></div>');if(n.fbLikebox){var l='<iframe src="http://www.facebook.com/plugins/like.php?href='+encodeURIComponent(s)+"&layout=button_count&width=100&action="+n.fbAction+"&colorscheme="+n.fbcolorscheme+'&height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:95px; height:21px; float:left;" allowTransparency="true"></iframe>'}else{var l=""}if(n.tweets){var c="&via="+n.tweetVia;var h='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+encodeURIComponent(s)+"&text="+encodeURIComponent(n.tweetText)+"&related="+encodeURIComponent(n.twitterRelated)+c+'" style="width:100px; height:21px; float:left;"></iframe>'}else{var h=""}if(n.gplus){var p='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="https://plusone.google.com/u/0/_/+1/fastbutton?url='+encodeURIComponent(s)+'&size=medium" style="width:85px; height:21px; float:left;"></iframe>'}else{var p=""}if(n.pin){if(n.pinMedia){var d='<div style="width:80px; height:21px; padding: 5px; float:left;"><a data-pin-config="beside" href="http://pinterest.com/pin/create/button/?url='+encodeURIComponent(s)+"&media="+encodeURIComponent(n.pinMedia)+"&description="+encodeURIComponent(o)+'" target="_blank" data-pin-do="buttonPin"><img src="http://assets.pinterest.com/images/pidgets/pin_it_button.png" /></a></div>'}else{var d='<div style="width:80px; height:21px; padding: 5px; float:left;"><a class="pin_shareplus" href="http://pinterest.com/pin/create/button/?url='+encodeURIComponent(s)+'"><img src="http://assets.pinterest.com/images/pidgets/pin_it_button.png" /></a></div>'}}else{var d=""}if(n.fbLikebox||n.tweets||n.gplus||n.pin){var v=e('<div id="shareplus_extras" style="height:30px;clear:both;">'+l+h+p+d+"</div>")}u.html(a);u.append(f,v);e("body").append(u);e(".pin_shareplus").click(function(t){t.preventDefault();e("#pinmarklet").remove();var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("charset","UTF-8");n.setAttribute("id","pinmarklet");n.setAttribute("src","http://assets.pinterest.com/js/pinmarklet.js?r="+Math.random()*99999999);document.body.appendChild(n)});var m=e('<div id="shareplus_overlay"></div>');e("body").append(m);if(n.sticker){var g=e('<a href="javascript:void(0);" onClick="jQuery(\'.shareplus\').shareplus(\'open\');" class="shareplus"><div id="shareplus_sticker" class="'+n.stickerAlign+'"></div></a>');e("body").append(g)}var y=n.icons.split(",");for(var b in y){var w=y[b];var E=w.replace(/_/gi," ");var S=r[w];var t=n.targetBlank?"_blank":"_slef";if(S){S=S.replace("{TITLE}",encodeURIComponent(i));S=S.replace("{URL}",encodeURIComponent(s));S=S.replace("{DESCRIPTION}",encodeURIComponent(o));var x='<a href="'+S+'" target="'+t+'" class="shareplus_icon '+E+'"><span>'+E+"</span></a>";e(x).appendTo(f)}}e(".shareplus_icon").click(function(){if(n.ga){var t=t||[];var r=e(this).text();t.push(["_trackSocial",r,"share",s])}})};var r=e('<a href="javascript:void(0);" class="shareplus" style="display:none;visibility:hidden;">Share+</a>');e("body").append(r);n.prototype.open=function(t){if(t=="")var t=e(this).data();var n=e("#shareplus");t.open.call(this);e(n).stop();e("#shareplus_overlay").fadeIn(t.speedIn);e(n).fadeIn(t.speedIn);t.opened.call(this);e(document).keyup(function(t){if(e(n).is(":visible")&&t.keyCode==27){e(".shareplus").shareplus("close")}});var r=e(window);var i=r.height();var s=r.width();n.css("top",i/2-n.height()/2);n.css("left",s/2-n.width()/2);r.resize(function(){var e=r.height();var t=r.width();n.css("top",e/2-n.height()/2);n.css("left",t/2-n.width()/2)});return this.$T};n.prototype.close=function(t){if(t=="")var t=e(this).data();var n=e("#shareplus");t.exit.call(this);e("#shareplus_overlay").fadeOut(t.speedOut);n.fadeOut(t.speedOut);t.exited.call(this);return this.$T};e.fn[t]=function(r){if(!e(this).length){return e(this)}var i=e(this).data(t);if(i&&r.indexOf("_")!=0&&i[r]&&typeof i[r]=="function"){return i[r](Array.prototype.slice.call(arguments,1))}else if(typeof r==="object"||!r){i=new n(e(this),r);e(this).data(t,i);return e(this)}else if(!i){e.error("Share+ must be initialised before using method: "+r)}else if(r.indexOf("_")==0){e.error("Method "+r+" is private!")}else{e.error("Method "+r+" does not exist.")}}})(jQuery)